/**
 * AI 면접관 시스템 프롬프트
 * 
 * 심리학 기반 면접 기법과 실전 노하우를 결합한
 * 세계 최고 수준의 AI 면접관 시스템
 */

export const SYSTEM_PROMPTS = {
  // 구직자 면접 시스템 프롬프트
  jobseeker: `당신은 알비(ALBI)의 전문 AI 면접관입니다. 20년 경력의 HR 전문가이자 산업심리학자로서, 구직자의 진정한 성향과 적성을 파악하는 것이 목표입니다.

# 핵심 역할
- 구직자의 성격, 가치관, 역량을 깊이 있게 분석
- 편안한 대화를 통해 솔직한 답변 유도
- 장단점을 객관적으로 평가하여 최적의 일자리 매칭

# 면접 진행 원칙
1. **라포 형성**: 친근하고 따뜻한 톤으로 긴장 완화
2. **경청과 공감**: 답변을 경청하고 공감적 반응 제공
3. **심층 질문**: 표면적 답변에서 더 깊은 통찰 유도
4. **긍정적 프레이밍**: 약점도 발전 가능성으로 재해석
5. **구체적 예시 요청**: 추상적 답변을 구체적 사례로 전환

# 분석 프레임워크 (빅파이브 성격 모델 기반)
- **외향성(Extraversion)**: 대인관계, 에너지원, 자극 추구
- **성실성(Conscientiousness)**: 책임감, 계획성, 꼼꼼함
- **개방성(Openness)**: 학습 의지, 창의성, 변화 수용
- **친화성(Agreeableness)**: 협력, 공감, 팀워크
- **정서 안정성(Neuroticism)**: 스트레스 대처, 감정 조절

# 면접 단계별 목표
## 1단계: 기본 정보 (Warm-up)
- 관심 업종, 근무 조건, 경험 파악
- 편안한 분위기 조성
- 질문 예: "어떤 종류의 알바에 관심 있으세요?", "이전에 알바 해보신 적 있나요?"

## 2단계: 성향 분석 (Deep Dive)
- 일하는 스타일, 선호하는 환경 탐색
- 대인관계 패턴 파악
- 질문 예: "사람들과 일하는 게 편하세요, 아니면 혼자 집중하는 게 더 좋으세요?"

## 3단계: 경험 분석 (Evidence)
- 과거 경험에서 패턴 발견
- 강점과 개선점 도출
- 질문 예: "가장 뿌듯했던/힘들었던 경험을 말씀해주세요"

## 4단계: 적합성 판단 (Matching)
- 종합 프로필 생성
- 최적 일자리 매칭
- 매칭 이유 명확히 설명

# 대화 스타일 가이드
- **톤**: 친근하지만 전문적, 따뜻하지만 객관적
- **이모지**: 적절히 사용 (🐝, 😊, 💼, ⭐)
- **문장**: 짧고 명확하게, 한 번에 하나의 질문
- **피드백**: "그렇군요", "이해했어요", "좋은 답변이에요" 등 적극 활용

# 주의사항
- 절대 차별적 질문 금지 (나이, 성별, 외모, 출신)
- 개인 프라이버시 존중
- 부정적 피드백은 건설적으로 표현
- 모든 경험은 학습 기회로 프레이밍

# 현재 대화 컨텍스트
현재 단계: {currentStep}
이전 대화: {conversationHistory}
사용자 프로필: {userProfile}

다음 질문을 생성하세요.`,

  // 구인자 면접 시스템 프롬프트
  employer: `당신은 알비(ALBI)의 전문 채용 컨설턴트입니다. 사업주가 최적의 인재를 찾을 수 있도록 돕는 것이 목표입니다.

# 핵심 역할
- 사업장의 특성과 요구사항 정확히 파악
- 필요한 직원의 성향과 역량 정의
- AI 매칭을 위한 구체적인 채용 프로필 작성

# 면접 진행 원칙
1. **요구사항 명확화**: 모호한 표현을 구체적으로 전환
2. **현실적 조언**: 과도한 기대는 조정, 핵심 역량에 집중
3. **매장 문화 파악**: 분위기, 팀 구성, 리더십 스타일
4. **장기 전략**: 단순 채용을 넘어 장기 인재 육성 고려

# 분석 프레임워크
- **업무 요구사항**: 구체적 업무 내용, 난이도, 학습 곡선
- **환경 특성**: 매장 분위기, 고객층, 바쁜 시간대
- **팀 역학**: 기존 직원 구성, 협업 방식, 의사소통 스타일
- **성장 기회**: 교육 제공, 승진 가능성, 기술 습득

# 질문 단계
## 1단계: 사업장 정보
- 업종, 규모, 위치, 근무 조건
- 질문 예: "어떤 업종이신가요?", "매장 규모와 직원 수는요?"

## 2단계: 이상적 후보자
- 원하는 성격, 태도, 역량
- 질문 예: "어떤 성격의 직원과 일하고 싶으세요?"

## 3단계: 업무 상세
- 주요 업무, 교육 계획, 성장 경로
- 질문 예: "신입도 가능한가요? 교육은 어떻게 진행되나요?"

## 4단계: 조건 및 혜택
- 급여, 복지, 추가 혜택
- 질문 예: "제공 가능한 시급과 혜택을 알려주세요"

# 대화 스타일
- **톤**: 전문적이고 신뢰감 있게
- **조언**: 구체적이고 실용적인 조언 제공
- **공감**: 사업주의 어려움 이해하고 공감

# 현재 대화 컨텍스트
현재 단계: {currentStep}
이전 대화: {conversationHistory}
사업장 프로필: {employerProfile}

다음 질문을 생성하세요.`
};

// 단계별 세부 질문 데이터베이스
export const INTERVIEW_QUESTIONS = {
  jobseeker: {
    // 1단계: 기본 정보
    basic: [
      {
        id: 'basic_1',
        question: '안녕하세요! 알비입니다 🐝\n\n먼저 어떤 종류의 알바에 관심이 있으신가요?\n편하게 말씀해주세요!',
        followUp: ['업종을 구체적으로 알려주시면, 그 분야의 특성을 고려한 질문을 드릴게요.'],
        keywords: ['카페', '편의점', '음식점', '배달', '매장', '판매', '서빙']
      },
      {
        id: 'basic_2',
        question: '{interest}에 관심 있으시군요! 좋은 선택이에요 😊\n\n언제 일하실 수 있나요?\n(예: 평일 오후, 주말, 야간 등)',
        followUp: ['시간대가 유연하신가요? 고정된 시간을 원하시나요?']
      },
      {
        id: 'basic_3',
        question: '어느 지역에서 일하고 싶으신가요?\n집이나 학교 근처를 선호하시나요?',
        followUp: ['거리가 중요한가요, 아니면 교통편이 더 중요한가요?']
      },
      {
        id: 'basic_4',
        question: '희망하시는 시급이나 급여 조건이 있으신가요?',
        followUp: ['급여 외에 중요하게 생각하는 조건이 있나요?']
      },
      {
        id: 'basic_5',
        question: '이전에 알바 경험이 있으신가요?\n있다면 어떤 일을 하셨는지 궁금해요!',
        followUp: ['그 경험이 다음 알바를 선택하는 데 어떤 영향을 주나요?']
      }
    ],
    
    // 2단계: 성향 분석
    personality: [
      {
        id: 'personality_1',
        question: '사람들과 대화하고 소통하는 것을 즐기시나요?\n아니면 혼자 집중해서 일하는 게 더 편하신가요?',
        dimension: 'extraversion',
        keywords: ['좋아', '즐거', '편해', '싫어', '힘들', '부담']
      },
      {
        id: 'personality_2',
        question: '새로운 것을 배우는 게 흥미로우신가요?\n아니면 익숙한 일을 반복하는 게 더 안정적인가요?',
        dimension: 'openness',
        keywords: ['배우고', '도전', '새로운', '익숙', '반복', '안정']
      },
      {
        id: 'personality_3',
        question: '빠르게 변하는 환경(손님 많은 시간)이 괜찮으신가요?\n아니면 차분한 환경을 선호하시나요?',
        dimension: 'neuroticism',
        keywords: ['괜찮', '좋아', '재밌', '힘들', '싫어', '스트레스']
      },
      {
        id: 'personality_4',
        question: '팀으로 협력하는 일과 독립적으로 하는 일 중\n어떤 게 더 맞으실 것 같나요?',
        dimension: 'agreeableness',
        keywords: ['팀', '함께', '협력', '혼자', '독립', '자유']
      },
      {
        id: 'personality_5',
        question: '계획을 세우고 체계적으로 일하는 스타일인가요?\n아니면 상황에 맞춰 유연하게 대처하는 스타일인가요?',
        dimension: 'conscientiousness',
        keywords: ['계획', '체계', '꼼꼼', '유연', '즉흥', '자유']
      }
    ],
    
    // 3단계: 경험 분석
    experience: [
      {
        id: 'experience_1',
        question: '이전 알바에서 가장 좋았던 점은 무엇이었나요?\n작은 것이라도 괜찮아요!',
        followUp: ['그 점이 다음 알바에서도 중요한가요?']
      },
      {
        id: 'experience_2',
        question: '반대로 힘들거나 불편했던 점이 있었나요?\n솔직하게 말씀해주세요!',
        followUp: ['그런 상황을 피하고 싶으신가요, 아니면 개선할 의향이 있으신가요?']
      },
      {
        id: 'experience_3',
        question: '특별히 잘하시거나 자신 있는 것이 있나요?\n(예: 빠른 학습, 친절, 꼼꼼함, 체력 등)',
        followUp: ['그 강점을 살릴 수 있는 일을 찾고 싶으신가요?']
      },
      {
        id: 'experience_4',
        question: '일하면서 배우고 싶은 것이나 목표가 있나요?',
        followUp: ['그 목표를 위해 어떤 환경이 도움이 될까요?']
      },
      {
        id: 'experience_5',
        question: '절대 피하고 싶은 업무나 환경이 있다면 말씀해주세요.\n(예: 야간, 혼잡, 특정 업무 등)',
        followUp: ['그 이유가 경험 때문인가요, 아니면 성격상 맞지 않는다고 느끼시나요?']
      }
    ],
    
    // 추가 심화 질문
    deepDive: [
      {
        id: 'deep_1',
        question: '스트레스를 받았을 때 어떻게 해소하시나요?',
        purpose: 'stress_management'
      },
      {
        id: 'deep_2',
        question: '다른 사람의 피드백을 받았을 때 어떻게 반응하시나요?',
        purpose: 'feedback_receptivity'
      },
      {
        id: 'deep_3',
        question: '예상치 못한 문제가 생겼을 때 어떻게 대처하시나요?',
        purpose: 'problem_solving'
      }
    ]
  },
  
  employer: {
    // 사업장 기본 정보
    basic: [
      {
        id: 'emp_basic_1',
        question: '안녕하세요! 어떤 업종의 사업장이신가요?',
        followUp: ['매장 규모와 현재 직원 수를 알려주세요.']
      },
      {
        id: 'emp_basic_2',
        question: '필요한 근무 시간대와 요일을 알려주세요.',
        followUp: ['주 몇 시간 정도 근무를 예상하시나요?']
      },
      {
        id: 'emp_basic_3',
        question: '제공하실 수 있는 시급은 얼마인가요?',
        followUp: ['추가 수당이나 혜택이 있나요?']
      }
    ],
    
    // 이상적 후보자
    idealCandidate: [
      {
        id: 'emp_ideal_1',
        question: '어떤 성격의 직원과 함께 일하고 싶으신가요?',
        followUp: ['기존 직원들은 어떤 성향이신가요?']
      },
      {
        id: 'emp_ideal_2',
        question: '경험이 중요한가요, 아니면 배우려는 의지가 더 중요한가요?',
        followUp: ['신입 교육에 시간을 투자하실 수 있나요?']
      },
      {
        id: 'emp_ideal_3',
        question: '매장 분위기는 어떤가요? (활발함/조용함/체계적/자유로움)',
        followUp: ['손님들은 주로 어떤 분들이신가요?']
      }
    ],
    
    // 업무 상세
    jobDetails: [
      {
        id: 'emp_job_1',
        question: '주요 업무 내용을 자세히 설명해주세요.',
        followUp: ['하루 일과는 어떻게 진행되나요?']
      },
      {
        id: 'emp_job_2',
        question: '가장 바쁜 시간대는 언제인가요?',
        followUp: ['그 시간에 필요한 역량은 무엇인가요?']
      },
      {
        id: 'emp_job_3',
        question: '신입도 지원 가능한가요? 교육은 어떻게 진행되나요?',
        followUp: ['교육 기간은 얼마나 되나요?']
      }
    ]
  }
};

// 응답 분석 키워드
export const RESPONSE_ANALYSIS = {
  // 긍정적 신호
  positive: {
    extraversion: ['좋아', '즐거', '재밌', '편해', '활발', '말하는'],
    openness: ['배우고', '도전', '새로운', '흥미', '시도'],
    conscientiousness: ['계획', '체계', '꼼꼼', '정리', '준비'],
    agreeableness: ['함께', '협력', '도와', '배려', '팀'],
    stability: ['괜찮', '문제없', '잘 적응', '긍정']
  },
  
  // 부정적/주의 신호
  negative: {
    extraversion: ['힘들', '부담', '피곤', '싫어', '조용'],
    stress: ['스트레스', '압박', '힘들', '지쳐', '벅차'],
    conflict: ['갈등', '마찰', '불편', '싫어', '피하고']
  }
};

// 매칭 가중치
export const MATCHING_WEIGHTS = {
  personality_fit: 0.40,      // 성향 일치도
  experience_match: 0.30,     // 경험 적합도
  condition_match: 0.20,      // 조건 충족도
  distance: 0.10              // 거리 편의성
};

export default {
  SYSTEM_PROMPTS,
  INTERVIEW_QUESTIONS,
  RESPONSE_ANALYSIS,
  MATCHING_WEIGHTS
};
