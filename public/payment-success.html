<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê²°ì œ ì„±ê³µ - ì•Œë¹„</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes checkmark {
      0% { transform: scale(0) rotate(0deg); }
      50% { transform: scale(1.2) rotate(180deg); }
      100% { transform: scale(1) rotate(360deg); }
    }
    .checkmark-animation { animation: checkmark 0.8s ease-in-out; }
  </style>
</head>
<body class="bg-gray-50">
  <div class="max-w-md mx-auto min-h-screen p-4 flex flex-col justify-center">
    <!-- ì„±ê³µ ì•„ì´ì½˜ -->
    <div class="text-center mb-8">
      <div class="text-8xl mb-4 checkmark-animation">âœ…</div>
      <h1 class="text-3xl font-bold text-gray-800 mb-2">ê²°ì œ ì™„ë£Œ!</h1>
      <p class="text-gray-600">ì±„ìš© ì„±ê³µ ìˆ˜ìˆ˜ë£Œê°€ ì •ìƒì ìœ¼ë¡œ ê²°ì œë˜ì—ˆìŠµë‹ˆë‹¤.</p>
    </div>

    <!-- ê²°ì œ ì •ë³´ ì¹´ë“œ -->
    <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
      <h2 class="text-lg font-bold mb-4 flex items-center">
        <span class="mr-2">ğŸ“‹</span>
        ê²°ì œ ìƒì„¸ ì •ë³´
      </h2>
      
      <div class="space-y-3 text-sm">
        <div class="flex justify-between py-2 border-b border-gray-100">
          <span class="text-gray-600">ì£¼ë¬¸ë²ˆí˜¸</span>
          <span class="font-mono text-xs" id="orderId">-</span>
        </div>
        <div class="flex justify-between py-2 border-b border-gray-100">
          <span class="text-gray-600">ê²°ì œê¸ˆì•¡</span>
          <span class="font-bold text-blue-600">39,000ì›</span>
        </div>
        <div class="flex justify-between py-2 border-b border-gray-100">
          <span class="text-gray-600">ê²°ì œìˆ˜ë‹¨</span>
          <span class="font-bold" id="paymentMethod">-</span>
        </div>
        <div class="flex justify-between py-2">
          <span class="text-gray-600">ê²°ì œì¼ì‹œ</span>
          <span class="font-bold" id="paymentTime">-</span>
        </div>
      </div>

      <div class="mt-4 p-4 bg-green-50 rounded-lg">
        <p class="text-xs text-green-800">
          ğŸ’š <strong>ì¶•í•˜í•©ë‹ˆë‹¤!</strong><br>
          ì´ë©”ì¼ë¡œ ì˜ìˆ˜ì¦ì´ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
          7ì¼ ì´ë‚´ í™˜ë¶ˆ ìš”ì²­ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
        </p>
      </div>
    </div>

    <!-- ë‹¤ìŒ ë‹¨ê³„ ì•ˆë‚´ -->
    <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
      <h3 class="text-lg font-bold mb-4 flex items-center">
        <span class="mr-2">ğŸ‘‰</span>
        ë‹¤ìŒ ë‹¨ê³„
      </h3>
      
      <div class="space-y-3 text-sm">
        <div class="flex items-start space-x-3">
          <span class="text-2xl">1ï¸âƒ£</span>
          <div>
            <strong>ê·¼ë¡œê³„ì•½ì„œ ì‘ì„±</strong>
            <p class="text-gray-600 mt-1">êµ¬ì§ìì™€ í•¨ê»˜ ê·¼ë¡œê³„ì•½ì„œë¥¼ ì‘ì„±í•˜ì„¸ìš”</p>
          </div>
        </div>
        <div class="flex items-start space-x-3">
          <span class="text-2xl">2ï¸âƒ£</span>
          <div>
            <strong>ê·¼ë¬´ ì‹œì‘ì¼ í™•ì •</strong>
            <p class="text-gray-600 mt-1">ì²« ì¶œê·¼ ë‚ ì§œì™€ ì‹œê°„ì„ ì •í•˜ì„¸ìš”</p>
          </div>
        </div>
        <div class="flex items-start space-x-3">
          <span class="text-2xl">3ï¸âƒ£</span>
          <div>
            <strong>ì•Œë¹„ ë¦¬ë·° ë‚¨ê¸°ê¸°</strong>
            <p class="text-gray-600 mt-1">ì±„ìš© ê²½í—˜ì„ ë‹¤ë¥¸ ì‚¬ìš©ìì™€ ê³µìœ í•˜ì„¸ìš”</p>
          </div>
        </div>
      </div>
    </div>

    <!-- ë²„íŠ¼ -->
    <div class="space-y-3">
      <a href="/" 
         class="block w-full py-4 text-center rounded-xl text-lg font-bold bg-blue-500 text-white hover:bg-blue-600 shadow-lg transition">
        ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
      </a>
      
      <button onclick="window.print()"
              class="w-full py-3 text-center rounded-xl font-bold bg-white text-gray-700 border-2 border-gray-200 hover:bg-gray-50 transition">
        ğŸ“„ ì˜ìˆ˜ì¦ ì¶œë ¥í•˜ê¸°
      </button>
    </div>
  </div>

  <script>
    window.onload = function() {
      // URL íŒŒë¼ë¯¸í„°ì—ì„œ ì£¼ë¬¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
      const urlParams = new URLSearchParams(window.location.search);
      const orderId = urlParams.get('orderId');
      const paymentKey = urlParams.get('paymentKey');
      const amount = urlParams.get('amount');

      // ì£¼ë¬¸ë²ˆí˜¸ í‘œì‹œ
      if (orderId) {
        document.getElementById('orderId').textContent = orderId;
      }

      // ê²°ì œìˆ˜ë‹¨ í‘œì‹œ
      document.getElementById('paymentMethod').textContent = 'ì‹ ìš©ì¹´ë“œ';

      // í˜„ì¬ ì‹œê°„ í‘œì‹œ
      const now = new Date();
      const timeString = now.toLocaleDateString('ko-KR') + ' ' + 
                        now.toLocaleTimeString('ko-KR', { 
                          hour: '2-digit', 
                          minute: '2-digit' 
                        });
      document.getElementById('paymentTime').textContent = timeString;

      // ê²°ì œ ìŠ¹ì¸ API í˜¸ì¶œ (ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ë°±ì—”ë“œì—ì„œ ì²˜ë¦¬)
      if (paymentKey && orderId && amount) {
        console.log('âœ… ê²°ì œ ìŠ¹ì¸ ì •ë³´:', { paymentKey, orderId, amount });
        // TODO: ë°±ì—”ë“œ APIë¡œ ê²°ì œ ìŠ¹ì¸ ìš”ì²­
        // fetch('/api/payment/confirm', { ... })
      }

      // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì—ì„œ í¬ì¸íŠ¸ ê°€ì ¸ì˜¤ê¸°
      const points = parseInt(localStorage.getItem('albi_points') || '0');
      // ê²°ì œ ì™„ë£Œ ë³´ë„ˆìŠ¤ í¬ì¸íŠ¸ ì¶”ê°€ (100P)
      localStorage.setItem('albi_points', (points + 100).toString());

      console.log('ğŸ’³ ê²°ì œ ì„±ê³µ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');
      console.log('ğŸ ë³´ë„ˆìŠ¤ í¬ì¸íŠ¸ 100P ì§€ê¸‰');
    };
  </script>
</body>
</html>
